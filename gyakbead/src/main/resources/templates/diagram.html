<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">

<head>
    <title>F1 Statisztika – Nemzetiségek</title>
</head>

<div layout:fragment="content">
    <section>
        <header class="major">
            <h1>Top 10 legtöbb pilótát adó nemzetiség</h1>
            <p>A Formula–1 teljes történelmében</p>
        </header>

        <div style="max-width: 850px; margin: 40px auto; padding: 30px;
                    background: rgba(255,255,255,0.06); border-radius: 16px;">
            <canvas id="nemzetChart"></canvas>
        </div>

        <p style="text-align:center; margin-top: 2em;">
            <a th:href="@{/}" class="button primary">Vissza a főoldalra</a>
        </p>
    </section>
</div>

<th:block layout:fragment="scripts">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script th:inline="javascript">
        const ctx = document.getElementById('nemzetChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: /*[[${nemzetek}]]*/,
                datasets: [{
                    data: /*[[${szamok}]]*/,
                    backgroundColor: [
                        '#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#f3722c',
                        '#6c5ce7', '#a29bfe', '#fd79a8', '#fdcb6e', '#e17055'
                    ],
                    borderWidth: 3,
                    borderColor: '#111'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#ddd', font: { size: 15 }, padding: 20 }
                    },
                    title: {
                        display: true,
                        text: 'Melyik nemzet adta a legtöbb F1 pilótát?',
                        color: '#e0e0ff',
                        font: { size: 22, weight: 'normal' }
                    }
                }
            }
        });
    </script>
</th:block>

</html>